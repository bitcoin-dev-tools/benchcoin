# PR benchmark configuration
# Clone benchcoin + use this config = reproduce the benchmark
#
# Usage:
#   bench.py run --benchmark-config bench/configs/pr.toml --matrix-entry 450-uninstrumented \
#     --datadir /data/pruned-840k --output-dir ./output \
#     pr:/path/to/pr/bitcoind

[benchmark]
start_height = 840000
runs = 2

[bitcoind]
stopatheight = 900000
chain = "main"
connect = "148.251.128.115:33333"
prune = 1000000
daemon = false
printtoconsole = false

# Parameter matrix - creates multiple benchmark configurations
# Matrix expands to: 450-uninstrumented, 450-instrumented, 32000-uninstrumented, 32000-instrumented
[bitcoind.matrix]
dbcache = [450, 32000]
instrumentation = ["uninstrumented", "instrumented"]

# Debug flags enabled when instrumentation = "instrumented"
[bitcoind.instrumented]
debug = ["coindb", "leveldb", "bench", "validation"]
